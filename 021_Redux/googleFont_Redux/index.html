<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/redux/4.2.0/redux.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Black+Han+Sans&family=East+Sea+Dokdo&family=Hi+Melody&family=Nanum+Myeongjo&family=Noto+Sans+KR&family=Song+Myung&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <title></title>
</head>

<body>
    <div>
        <input type="text" id="inputText" placeholder="insert something">
        <input type="button" value="click me" onclick="
        const value = document.getElementById('inputText').value
        store.dispatch({type:'TEXT', text:value})" />
        <input type="button" value="Rounded!" onclick="store.dispatch({type:'STYLE_BORDER', borderRadius: '10px' })" />
        <input type="button" value="Rect!" onclick="store.dispatch({type:'STYLE_BORDER', borderRadius:'0px'})">
        <input type="button" value="Red!" onclick="store.dispatch({type:'STYLE_BORDER_COLOR', border:'5px solid red'})">
        <input type="button" value="Blue!"
            onclick="store.dispatch({type:'STYLE_BORDER_COLOR', border:'5px solid blue'})">
        <input type="button" value="Green!"
            onclick="store.dispatch({type:'STYLE_BORDER_COLOR', border:'5px solid green'})">

        <ul class="container">
            <li class="item" id="item1"></li>
            <li class="item" id="item2"></li>
            <li class="item" id="item3"></li>
            <li class="item" id="item4"></li>
            <li class="item" id="item5"></li>
            <li class="item" id="item6"></li>
        </ul>
    </div>

    <script>
        const store = Redux.createStore(reducer)
        function reducer(state, action) {
            console.log(state, action)
            if (state === undefined) {
                return {
                    text: 'hello',
                    color: "black",
                    border: '5px solid #f6866a',
                    borderRadius: '0px'
                }
            } else if (action.type === "TEXT") {
                return {
                    ...state,
                    test: action.text
                }
            } else if (action.type === 'STYLE_BORDER') {
                return {
                    ...state,
                    border: action.borderRadius
                }
            }
            else if (action.type === 'STYLE_BORDER_COLOR') {
                return {
                    ...state,
                    border: action.border
                }
            }
        }
        function item1() {
            const state = store.getState()
            const $item = document.querySelector('#item1')
            $item.innerText = `${state.text}`
            $item.style.borderRadius = `${state.borderRadius}`
            $item.style.border = `${state.border}`
        }
        store.subscribe(item1)
        item1()

        function item2() {
            const state = store.getState()
            const $item = document.querySelector('#item2')
            $item.innerText = `${state.text}`
            $item.style.borderRadius = `${state.borderRadius}`
        }
        store.subscribe(item2)
        item2()

        function item3() {
            const state = store.getState()
            const $item = document.querySelector('#item3')
            $item.innerText = `${state.text}`
            $item.style.borderRadius = `${state.borderRadius}`
        }
        store.subscribe(item3)
        item3()

        function item4() {
            const state = store.getState()
            const $item = document.querySelector('#item4')
            $item.innerText = `${state.text}`
            $item.style.borderRadius = `${state.borderRadius}`
        }
        store.subscribe(item4)
        item4()

        function item5() {
            const state = store.getState()
            const $item = document.querySelector('#item5')
            $item.innerText = `${state.text}`
            $item.style.borderRadius = `${state.borderRadius}`
        }
        store.subscribe(item5)
        item5()

        function item6() {
            const state = store.getState()
            const $item = document.querySelector('#item6')
            $item.innerText = `${state.text}`
            $item.style.borderRadius = `${state.borderRadius}`
        }
        store.subscribe(item6)
        item6()
    </script>
</body>

</html>